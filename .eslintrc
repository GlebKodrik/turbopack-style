{
  "parser": "@typescript-eslint/parser",
  "parserOptions": {
    "ecmaVersion": 2018,
    "sourceType": "module",
    "ecmaFeatures": {
      "jsx": true
    },
    "warnOnUnsupportedTypeScriptVersion": false,
    "project": "./tsconfig.json"
  },
  "env": {
    "browser": true,
    "jest": true
  },
  "extends": [
    "airbnb",
    "airbnb/hooks",
    "airbnb-typescript",
    "next/core-web-vitals",
    "prettier",
    "plugin:prettier/recommended"
  ],
  "plugins": ["unused-imports", "simple-import-sort", "prettier", "boundaries"],
  "settings": {
    "import/resolver": {
      "typescript": {
        "alwaysTryTypes": true
      }
    },
    "boundaries/include": [
      "**/*"
    ],
    "boundaries/elements": [
      {
        "type": "app",
        "pattern": "app"
      },
      {
        "type": "pages",
        "pattern": "pages/*",
        "capture": [
          "page"
        ]
      },
      {
        "type": "widgets",
        "pattern": "widgets/*",
        "capture": [
          "widget"
        ]
      },
      {
        "type": "features",
        "pattern": "features/*",
        "capture": [
          "feature"
        ]
      },
      {
        "type": "entities",
        "pattern": "entities/*",
        "capture": [
          "entity"
        ]
      },
      {
        "type": "shared",
        "pattern": "shared/*",
        "capture": [
          "segment"
        ]
      }
    ]
  },
  "rules": {
    "no-magic-numbers": ["off", { "ignoreArrayIndexes": true, "ignoreDefaultValues": true, "ignoreClassFieldInitialValues": true, "ignore": [0, 1, -1, 2, -2]  }],
    "@typescript-eslint/array-type": [
      "error",
      {
        "default": "generic",
        "readonly": "generic"
      }
    ],
    "max-len": ["warn", { "code": 180, "ignoreComments": true, "ignoreUrls": true  }],
    "import/no-default-export": "error",
    "jsx-a11y/media-has-caption": "off",
    "react/display-name": "off",
    "react-hooks/exhaustive-deps": "warn",
    "no-inline-comments": "error",
    "prettier/prettier": "error",
    "simple-import-sort/imports": "error",
    "simple-import-sort/exports": "error",
    "no-console": ["warn", { "allow": ["error", "warn"] }],
    "no-prototype-builtins": "off",
    "linebreak-style": "off",
    "max-params": ["warn", 3],
    "max-lines": ["error", { "max": 350, "skipBlankLines": true }],
    "react/function-component-definition": "off",
    "import/prefer-default-export": "off",
    "react/jsx-props-no-spreading": "off",
    "react/react-in-jsx-scope": "off",
    "react/jsx-no-constructed-context-values": "off",
    "jsx-a11y/no-static-element-interactions": "off",
    "jsx-a11y/control-has-associated-label": "off",
    "react/jsx-no-useless-fragment": "off",
    "no-param-reassign": "off",
    "react/no-array-index-key": "off",
    "arrow-body-style": "off",
    "no-unused-vars": "error",
    "unused-imports/no-unused-imports": "error",
    "jsx-a11y/no-noninteractive-element-interactions": "off",
    "import/extensions": "off",
    "import/no-extraneous-dependencies": "off",
    "consistent-return": "off",
    "jsx-a11y/label-has-associated-control": "off",
    "react/prop-types": "off",
    "unused-imports/no-unused-vars": [
      "warn",
      {
        "vars": "all",
        "varsIgnorePattern": "^_",
        "args": "after-used",
        "argsIgnorePattern": "^_"
      }
    ],
    "react/jsx-first-prop-new-line": [1, "multiline"],
    "react/jsx-max-props-per-line": [1, { "maximum": 1 }],
    "react/require-default-props": 0,
    "no-plusplus": "off",
    "no-underscore-dangle": "off",
    "import/order": "off",
    "import/no-internal-modules": "off",
    "@typescript-eslint/no-explicit-any": [
      "warn",
      {
        "ignoreRestArgs": true
      }
    ],
    "boundaries/entry-point": [
      2,
      {
        "default": "disallow",
        "rules": [
          {
            "target": [
              [
                "shared",
                {
                  "segment": ["api", "hooks"]
                }
              ]
            ],
            "allow": "*/index.ts"
          },
          {
            "target": [
              [
                "shared",
                {
                  "segment": "ui"
                }
              ]
            ],
            "allow": "*/index.(ts|tsx)"
          },
          {
            "target": [
              [
                "shared",
                {
                  "segment": ["hoc", "config"]
                }
              ]
            ],
            "allow": "*.(ts|tsx)"
          },
          {
            "target": [
              [
                "shared",
                {
                  "segment": ["assets", "lib"]
                }
              ]
            ],
            "allow": "**"
          },
          {
            "target": [
              "app",
              "pages",
              "widgets",
              "features",
              "entities"
            ],
            "allow": "index.(ts|tsx)"
          }
        ]
      }
    ],
    "boundaries/element-types": [
      2,
      {
        "default": "allow",
        "message": "${file.type} is not allowed to import (${dependency.type})",
        "rules": [
          {
            "from": [
              "shared"
            ],
            "disallow": [
              "app",
              "pages",
              "widgets",
              "features",
              "entities"
            ],
            "message": "Shared module must not import upper layers (${dependency.type})"
          },
          {
            "from": [
              "entities"
            ],
            "message": "Entity must not import upper layers (${dependency.type})",
            "disallow": [
              "app",
              "pages",
              "widgets",
              "features"
            ]
          },
          {
            "from": [
              "features"
            ],
            "message": "Feature must not import upper layers (${dependency.type})",
            "disallow": [
              "app",
              "pages",
              "widgets"
            ]
          },
          {
            "from": [
              "features"
            ],
            "message": "Feature must not import other feature",
            "disallow": [
              [
                "features",
                {
                  "feature": "!${feature}"
                }
              ]
            ]
          },
          {
            "from": [
              "widgets"
            ],
            "message": "Feature must not import upper layers (${dependency.type})",
            "disallow": [
              "app",
              "pages"
            ]
          },
          {
            "from": [
              "pages"
            ],
            "message": "Page must not import upper layers (${dependency.type})",
            "disallow": [
              "app"
            ]
          },
          {
            "from": [
              "pages"
            ],
            "message": "Page must not import other page",
            "disallow": [
              [
                "pages",
                {
                  "page": "!${page}"
                }
              ]
            ]
          }
        ]
      }
    ]
  },
  "overrides": [
    {
      "files": ["app/**/*", "global.d.ts", "tailwind.config.ts"],
      "rules": {
        "import/no-default-export": "off"
      }
    }
  ]
}
